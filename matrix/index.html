<!DOCTYPE html>
<html>
    <head>
        Ben Trevett - Matrix
        <style>
            * {margin: 0; padding: 0;}
            body {background: black;}
            canvas {display: block;}
        </style>
    </head>

    <body>
        //initialize canvas in html
        <canvas id="canvas"></canvas>
    
        <script>
            //initialize canvas in js
            var canvas = document.getElementById("canvas");
            var ctx = canvas.getContext("2d");
            
            var font_size = 10
            
            //number of columns
            var columns = canvas.width/font_size;
            
            //an array of drops, one per column
            var drops = []
            
            //fit canvas to full screen
            canvas.height = window.innerHeight;
            canvas.width = window.innerWidth;
            
            //characters to generate
            var chinese = "田由甲申甴电甶男甸甹町画甼甽甾甿畀畁畂畃畄畅畆畇畈畉畊畋界畍畎畏畐畑";
            
            //split the characters into an array
            chinese = chinese.split("");
            
            function draw(){
                //set canvas to have a black background
                ctx.fillStyle="black"
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                //getting the green font
                ctx.fillStyle = "green";
                ctx.font = font_size+"px arial"
                
                //looping over drops
                for(var i = 0; i < drops.length; i++){
                    
                    //getting a random char
                    var text = chinese[Math.floor(Math.random()*chinese.length)];
                    
                    //x = i*font_size, y = value of drops[i]*font_size
                    ctx.fillText(text,i*font_size,drops[i]*font_size);
                    
                    //sending the drop back to the top randomly after it has crossed the screen
		            //adding a randomness to the reset to make the drops scattered on the Y axis
		            if(drops[i]*font_size > c.height && Math.random() > 0.975){
			            drops[i] = 0;
                    }
                    
                    //incrementing Y coordinate
		            drops[i]++;
                }
            }
            
            setInterval(draw,50);
        </script>

    </body>
</html>
